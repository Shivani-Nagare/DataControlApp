@model IEnumerable<DataControl_Project.Models.tblDep>

@{
    ViewBag.Title = "Index";
    var grid = new WebGrid(source: Model, rowsPerPage: 10);
}




<link href="~/Content/bootstrap.min.css" rel="stylesheet" />


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    $(document).ready(function () {
        $("#chkboxheader").click(function () {
            if ($(this).is(":checked")) {
                $(".ckbox").prop("checked", true)
            }
            else {
                $(".ckbox").prop("checked", false)
            }
        });
    });
</script>
<style>
    .container {
        font-family: 'Comic Sans MS';
    }
</style>


<p>
    @using (Html.BeginForm("Index", "tblDeps", FormMethod.Get))
    {
        <h3 style="background-color:bisque">Manage Department</h3>
        <br />
        <br />
    <p>
        <input type="button" class="btn btn-success" value="Add New" onclick="location.href='@Url.Action("Create", "tblDeps")'" />
    </p>

    <b>Search Department:</b> @Html.RadioButton("searchBy", "Name", true) <text>Name</text>
    @Html.TextBox("search")
    <input type="submit" value="Search" class="btn btn-primary" />
}



    <p><br /></p>



    <div class="container">
        @using (Html.BeginForm("DeleteSelected", "tblDeps", FormMethod.Post))
        {


            @MvcHtmlString.Create(grid.GetHtml(
             tableStyle: "table table-bordered table-striped", htmlAttributes: new { id = "grid" },
             columns: new[] {

                                    grid.Column(header:"{chkboxheader}",format:@<text><input type="checkbox" id="chk1" name="empids" class="ckbox" value="@item.DeptId" /></text>),

grid.Column("DeptId", "DeptId"),
grid.Column("DeptName", "DeptName"),
grid.Column("DeptDescription", "DeptDescription"),
grid.Column("DeptLocation", "DeptLocation"),
grid.Column("IsActive", "IsActive"),


grid.Column(header: "Edit", format:@<a href="/tblDeps/Edit/@item.DeptId" class="btn btn-success">Update</a>),
grid.Column(header: "Details", format:@<a href="/tblDeps/Details/@item.DeptId" class="btn btn-success">Details</a>),
grid.Column(header: "Delete", format:@<a href="/tblDeps/Delete/@item.DeptId" class="btn btn-danger">Delete</a>),

}).ToString().Replace("{chkboxheader}", "<input type='checkbox' id='chkboxheader'/>"))

            <input type="submit" value="Delete Selected Records" class="btn btn-danger" />
            <br />
        }

        <br />
        <input type="button" class="btn btn-primary" value="Go To Location Management system" onclick="location.href='@Url.Action("Index", "tblLocations")'" />

        @*<input type="submit" value="Delete Selected" />*@
    </div>









